
services:
  # 1. UserService
  userservice:
    build:
      context: .
      dockerfile: src/UserService/UserService.Api/Dockerfile
    container_name: userservice
    environment:
      ConnectionStrings__UserServiceConnection: Host=db.hhmcmpnmytivfgsvbwpo.supabase.co;Database=postgres;Username=postgres;Password=0328802216Zz.;SSL Mode=Require;Trust Server Certificate=true;
      Jwt__Key: BookbridgeJWTKey_2025_Secure_ABC123!
      ASPNETCORE_ENVIRONMENT: Development
    ports:
      - "5141:8080"

  # 6. Redis cache
  redis:
    image: redis:7.2
    container_name: redis_cache
    restart: always
    ports:
      - "6379:6379"

volumes:
  pgadmin_data:
